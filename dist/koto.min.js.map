{"version":3,"file":"koto.min.js","sources":["/source/koto.js"],"names":["global","factory","exports","module","require","define","amd","koto","d3","this","kotoAssert","test","message","Error","Chart","selection","base","hasDrawn","_layers","Map","_attached","_events","_configs","_accessors","transform","data","demux","name","preDraw","postDraw","unlayer","layer","_chart","options","_layer","arguments","length","get","draw","set","attach","attachmentName","chart","rawData","attachmentData","_step","_iterator","values","Symbol","iterator","_iteratorNormalCompletion","next","done","value","_step2","_iterator2","entries","_iteratorNormalCompletion2","_step2$value","attachment","on","callback","context","events","has","Set","add","once","self","_once","_once2","off","apply","clear","forEach","event","clone","map","trigger","args","Array","_len","_key","_event$callback","call","concat","config","nameOrObject","key","accessor","item","lifecycleRe","Layer","_base","_handlers","dataBind","insert","eventName","handler","push","idx","handlers","splice","bound","entering","method","len","tidx","tlen","enter","exit","i","l","empty","transition","Koto","_registry","classFn","baseChart","_Koto","extend","childName","childClassFn","prototype","chartName","ChartCtor","_koto"],"mappings":"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","sourceRoot":"/Users/nicksrandall/code/koto"}